import 'bootstrap';
import 'bootstrap/dist/css/bootstrap.min.css';
import './styles.css';
import $ from 'jquery';
import { MovieFinderService } from './movieFinderService';

$(document).ready(function(){
  let srch = new MovieFinderService();

  (async() => {
    const response = await srch.searchGenre("action");
    console.log(response);
  })();
});


  async searchMovie(searchQuery) {
    return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${process.env.API_KEY}&query=${searchQuery}&language=en-US`)
      .then(function(response) {
        if (response.ok && response.status === 200) {
          return response.json();
        } else {
          throw Error(response.statusText);
        }
      })
      .catch(function(error) {
        return error;
      })
      .then(function(jsonifiedResponse) {
        return jsonifiedResponse;
      });
  }

  export class DinoIpsumGenerator {

  constructor() {
    this.counter = 10;
  }

  async getDinoNames() {
    try {
      let response = await fetch(`http://dinoipsum.herokuapp.com/api/?format=json`);
      let jsonifiedResponse;
      if (response.ok && response.status == 200) {
        jsonifiedResponse = await response.json();
      } else {
        jsonifiedResponse = false;
      }
      return jsonifiedResponse;
    } catch(error) {
      return false;
    }
  }

  decrementCounter() {
    this.counter --;
  }
}